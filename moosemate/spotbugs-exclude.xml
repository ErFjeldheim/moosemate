<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter>
    <!-- Exclude UPM_UNCALLED_PRIVATE_METHOD warnings for JavaFX controller classes -->
    <!-- These methods are called via FXML reflection, not detectable by static analysis -->
    
    <!-- HomePageController - handleLogoutButton method -->
    <Match>
        <Class name="moosemate.ui.HomePageController" />
        <Method name="handleLogoutButton" />
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD" />
    </Match>
    
    <!-- LoginController - handleLoginButton method -->
    <Match>
        <Class name="moosemate.ui.LoginController" />
        <Method name="handleLoginButton" />
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD" />
    </Match>
    
    <!-- LoginController - handleSignUpButton method -->
    <Match>
        <Class name="moosemate.ui.LoginController" />
        <Method name="handleSignUpButton" />
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD" />
    </Match>
    
    <!-- SignUpController - handleBackToLoginButton method -->
    <Match>
        <Class name="moosemate.ui.SignUpController" />
        <Method name="handleBackToLoginButton" />
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD" />
    </Match>
    
    <!-- SignUpController - handleSignUpButton method -->
    <Match>
        <Class name="moosemate.ui.SignUpController" />
        <Method name="handleSignUpButton" />
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD" />
    </Match>
    
    <!-- Alternative: Exclude all UPM_UNCALLED_PRIVATE_METHOD warnings for all UI controller classes -->
    <!-- Uncomment the section below if you prefer a broader filter for all controller classes -->
    <!--
    <Match>
        <Class name="~.*Controller$" />
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD" />
    </Match>
    -->
    
    <!-- Exclude EI_EXPOSE_REP2 for Spring dependency injection in REST module -->
    <!-- Spring-managed beans are singletons with final fields that are never modified -->
    <Match>
        <Or>
            <Class name="controller.MoosageController" />
            <Class name="service.MoosageService" />
        </Or>
        <Bug pattern="EI_EXPOSE_REP2" />
    </Match>
    
    <!-- Exclude EI_EXPOSE_REP2 for repository constructors in persistence module -->
    <!-- These fields are final and the objects are not modified after construction -->
    <Match>
        <Or>
            <Class name="repository.MoosageRepository" />
            <Class name="repository.UserRepository" />
        </Or>
        <Bug pattern="EI_EXPOSE_REP2" />
    </Match>
    
    <!-- Exclude PATH_TRAVERSAL_IN for repository file handling -->
    <!-- File paths are controlled by application configuration, not user input -->
    <Match>
        <Or>
            <Class name="repository.MoosageRepository" />
            <Class name="repository.UserRepository" />
        </Or>
        <Bug pattern="PATH_TRAVERSAL_IN" />
    </Match>
    
    <!-- Exclude EI_EXPOSE_REP for JsonFileHandler.getObjectMapper() -->
    <!-- Returning the ObjectMapper is intentional for configuration purposes -->
    <Match>
        <Class name="util.JsonFileHandler" />
        <Method name="getObjectMapper" />
        <Bug pattern="EI_EXPOSE_REP" />
    </Match>
</FindBugsFilter>