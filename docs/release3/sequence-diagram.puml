@startuml
actor User
participant "LoginController (UI)" as UI
participant "ApiClient (UI)" as ApiClient
participant "REST API" as RestAPI
participant "AuthController (REST)" as AuthController
participant "LoginService (REST)" as LoginService
participant "UserRepository (Persistence)" as UserRepository
participant "SessionManager (UI)" as SessionManager

User -> UI: Enters username & password
UI -> ApiClient: login(username, password)
ApiClient -> RestAPI: POST /login {username, password}
RestAPI -> AuthController: login(request)
AuthController -> LoginService: loginUser(username, password)
LoginService -> UserRepository: findByUsernameOrEmail(usernameOrEmail)
UserRepository --> LoginService: User data
LoginService --> AuthController: User (if valid)
AuthController --> RestAPI: ApiResponse<LoginResponse>
RestAPI --> ApiClient: ApiResponse<LoginResponse>
ApiClient --> UI: ApiResponse<LoginResponse>
UI -> SessionManager: login(LoginResponse)
SessionManager --> UI: Session initialized
UI -> User: Navigates to home page
@enduml
